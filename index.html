<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traduttore Referti Medici Multilingua</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8268426852108056"
     crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .loader {
            border-top-color: #3498db;
            border-right-color: transparent;
            border-bottom-color: transparent;
            border-left-color: transparent;
            -webkit-animation: spin 1s linear infinite, pulse 1.2s ease-in-out infinite;
            animation: spin 1s linear infinite, pulse 1.2s ease-in-out infinite;
        }
        @-webkit-keyframes spin {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @-webkit-keyframes pulse {
            0%, 100% {
                -webkit-transform: scale(1);
                opacity: 1;
            }
            50% {
                -webkit-transform: scale(1.15);
                opacity: 0.8;
            }
        }
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.15);
                opacity: 0.8;
            }
        }
        .result-card {
            margin-top: 1.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 1.5rem;
            background-color: #f9fafb;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .result-card h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #1f2937;
            border-bottom: 1px solid #d1d5db;
            padding-bottom: 0.5rem;
        }
        .result-card h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            color: #1f2937;
        }
        .result-card ul {
            list-style-type: disc;
            list-style-position: inside;
            padding-left: 1rem;
            margin-bottom: 1rem;
        }
        .result-card li {
            margin-bottom: 0.5rem;
        }
         .result-card strong {
            font-weight: 600;
            color: #111827;
        }
        #upload-area.disabled {
            opacity: 0.6;
            cursor: not-allowed;
            pointer-events: none;
        }
        .lang-chip {
            transition: background-color 0.2s, color 0.2s;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto max-w-3xl p-4 sm:p-6 md:p-8">
        <header class="text-center mb-8">
            <h1 data-translate-key="mainTitle" class="text-3xl sm:text-4xl font-bold text-gray-900">Traduttore Referti Medici Multilingua</h1>
            <p data-translate-key="subtitle" class="mt-2 text-md sm:text-lg text-gray-600">Carica una o pi√π foto dei tuoi referti o ricette per una spiegazione semplice.</p>
        </header>

        <main>
            <!-- How it works section -->
            <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 mb-8">
                <h2 data-translate-key="howItWorksTitle" class="text-2xl font-bold text-gray-800 mb-4">Come Funziona</h2>
                <ol class="list-decimal list-inside space-y-2 text-gray-600">
                    <li data-translate-key="step1"><strong>Carica i tuoi file:</strong> Trascina o seleziona le immagini dei tuoi referti.</li>
                    <li data-translate-key="step2"><strong>Scegli la lingua:</strong> Clicca su una lingua o selezionala dal menu per ricevere la spiegazione.</li>
                    <li data-translate-key="step3"><strong>Avvia l'analisi:</strong> Clicca sul pulsante "Analizza Immagini" per avviare il processo.</li>
                    <li data-translate-key="step4"><strong>Leggi i risultati:</strong> Ricevi un'analisi dettagliata e semplificata del tuo referto.</li>
                </ol>
            </div>

            <!-- Supported Languages Section -->
            <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 mb-8">
                <h2 data-translate-key="selectLanguageTitle" class="text-2xl font-bold text-gray-800 mb-3">Seleziona la tua lingua</h2>
                <div id="language-chips-container" class="flex flex-wrap gap-2">
                    <span data-lang="italiano" class="lang-chip cursor-pointer bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Italiano</span>
                    <span data-lang="inglese" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Inglese</span>
                    <span data-lang="francese" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Francese</span>
                    <span data-lang="tedesco" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Tedesco</span>
                    <span data-lang="spagnolo" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Spagnolo</span>
                    <span data-lang="portoghese" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Portoghese</span>
                    <span data-lang="rumeno" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Rumeno</span>
                    <span data-lang="russo" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Russo</span>
                    <span data-lang="albanese" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Albanese</span>
                    <span data-lang="arabo" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Arabo</span>
                    <span data-lang="giapponese" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Giapponese</span>
                    <span data-lang="cinese" class="lang-chip cursor-pointer bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded-full">Cinese</span>
                </div>
            </div>

            <!-- Donation Section -->
            <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 mb-8">
                <h2 data-translate-key="donationTitle" class="text-2xl font-bold text-gray-800 mb-3">Supporta il Progetto</h2>
                <p data-translate-key="donationText" class="text-gray-600 mb-4">Se trovi utile questo strumento, considera di fare una piccola donazione. Il tuo contributo aiuta a coprire i costi di mantenimento e sviluppo.</p>
                <a href="https://buy.stripe.com/5kQaEZdwZfVO5x6eFQdjO00" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
                    <span data-translate-key="donationButton">Fai una donazione</span>
                </a>
            </div>

            <!-- Upload Area -->
            <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
                <div id="upload-area" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all duration-300">
                    <input type="file" id="file-input" class="hidden" accept="image/*" multiple>
                    <div class="flex flex-col items-center">
                        <svg class="w-12 h-12 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
                        </svg>
                        <p data-translate-key="uploadArea" class="mt-4 text-lg font-semibold text-gray-700">Trascina immagini qui o clicca per selezionare</p>
                        <p class="mt-1 text-sm text-gray-500">PNG, JPG, GIF, WEBP</p>
                    </div>
                </div>
                <div id="file-list-container" class="mt-4">
                    <!-- Selected files will be listed here -->
                </div>
                <div id="controls-container" class="hidden mt-4 text-center">
                     <!-- Language Selector -->
                     <div class="mb-4 text-left">
                         <label data-translate-key="languageSelectLabel" for="language-select" class="block text-sm font-medium text-gray-700 mb-1">Seleziona la lingua di output:</label>
                         <select id="language-select" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                             <option value="italiano" selected>Italiano</option>
                             <option value="inglese">Inglese</option>
                             <option value="francese">Francese</option>
                             <option value="tedesco">Tedesco</option>
                             <option value="spagnolo">Spagnolo</option>
                             <option value="portoghese">Portoghese</option>
                             <option value="rumeno">Rumeno</option>
                             <option value="russo">Russo</option>
                             <option value="albanese">Albanese</option>
                             <option value="arabo">Arabo</option>
                             <option value="giapponese">Giapponese</option>
                             <option value="cinese">Cinese</option>
                         </select>
                    </div>
                    
                    <!-- Analyze Button -->
                    <button id="analyze-button" data-translate-key="analyzeButton" class="w-full px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-300 disabled:bg-gray-400 disabled:cursor-not-allowed">
                        Analizza Immagini
                    </button>
                </div>
            </div>

            <!-- Results Area -->
            <div id="result-container" class="mt-8">
                 <!-- Loader -->
                <div id="loader" class="hidden items-center justify-center flex-col my-6">
                    <div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"></div>
                    <p id="loader-text" class="text-lg font-medium text-gray-600" data-translate-key="loaderText">Analisi in corso...</p>
                </div>
                <!-- Content -->
                <div id="result-content"></div>
                <!-- Error Message -->
                <div id="error-message" class="hidden p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg"></div>
            </div>

            <!-- Reset Button Container -->
            <div id="reset-container" class="text-center mt-6 hidden">
                <button id="reset-button" data-translate-key="resetButton" class="px-8 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-300">
                    Analizza Nuovi Referti
                </button>
            </div>

            <!-- Disclaimer -->
            <div id="disclaimer" class="mt-8 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 rounded-r-lg">
                <h3 data-translate-key="disclaimerTitle" class="font-bold">Disclaimer Importante</h3>
                <p data-translate-key="disclaimerText" class="mt-1 text-sm">Questa applicazione fornisce una spiegazione generata da un'intelligenza artificiale e non sostituisce in alcun modo il parere di un medico. Le informazioni non devono essere usate per autodiagnosi o automedicazione. Consulta sempre il tuo medico per qualsiasi questione relativa alla tua salute.</p>
            </div>
        </main>

        <footer class="text-center mt-12 mb-6">
            <p data-translate-key="footer" class="text-sm text-gray-500">&copy; 2025 Nicola Nicolaci. Tutti i diritti riservati.</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        // DOM Elements
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');
        const fileListContainer = document.getElementById('file-list-container');
        const controlsContainer = document.getElementById('controls-container');
        const analyzeButton = document.getElementById('analyze-button');
        const languageSelect = document.getElementById('language-select');
        const languageChipsContainer = document.getElementById('language-chips-container');
        const resultContainer = document.getElementById('result-container');
        const loader = document.getElementById('loader');
        const loaderText = document.getElementById('loader-text');
        const resultContent = document.getElementById('result-content');
        const errorMessage = document.getElementById('error-message');
        const resetContainer = document.getElementById('reset-container');
        const resetButton = document.getElementById('reset-button');
        
        let selectedFiles = [];

        // --- TRANSLATION DATA ---
        const translations = {
            'italiano': {
                mainTitle: "Traduttore Referti Medici Multilingua",
                subtitle: "Carica una o pi√π foto dei tuoi referti o ricette per una spiegazione semplice.",
                howItWorksTitle: "Come Funziona",
                step1: "<strong>Carica i tuoi file:</strong> Trascina o seleziona le immagini dei tuoi referti.",
                step2: "<strong>Scegli la lingua:</strong> Clicca su una lingua o selezionala dal menu per ricevere la spiegazione.",
                step3: "<strong>Avvia l'analisi:</strong> Clicca sul pulsante \"Analizza Immagini\" per avviare il processo.",
                step4: "<strong>Leggi i risultati:</strong> Ricevi un'analisi dettagliata e semplificata del tuo referto.",
                selectLanguageTitle: "Seleziona la tua lingua",
                donationTitle: "Supporta il Progetto",
                donationText: "Se trovi utile questo strumento, considera di fare una piccola donazione. Il tuo contributo aiuta a coprire i costi di mantenimento e sviluppo.",
                donationButton: "Fai una donazione",
                uploadArea: "Trascina immagini qui o clicca per selezionare",
                languageSelectLabel: "Seleziona la lingua di output:",
                analyzeButton: "Analizza Immagini",
                loaderText: "Analisi in corso...",
                resetButton: "Analizza Nuovi Referti",
                disclaimerTitle: "Disclaimer Importante",
                disclaimerText: "Questa applicazione fornisce una spiegazione generata da un'intelligenza artificiale e non sostituisce in alcun modo il parere di un medico. Le informazioni non devono essere usate per autodiagnosi o automedicazione. Consulta sempre il tuo medico per qualsiasi questione relativa alla tua salute.",
                footer: "&copy; 2025 Nicola Nicolaci. Tutti i diritti riservati.",
                resultTitle: "Risultati per: ${fileName}",
                errorTitle: "Errore nell'analisi di: ${fileName}",
                errorDetails: "Si √® verificato un problema durante l'analisi. Dettagli: ${errorMessage}"
            },
            'inglese': {
                mainTitle: "Multilingual Medical Report Translator",
                subtitle: "Upload one or more photos of your reports or prescriptions for a simple explanation.",
                howItWorksTitle: "How It Works",
                step1: "<strong>Upload your files:</strong> Drag or select the images of your reports.",
                step2: "<strong>Choose the language:</strong> Click a language or select it from the menu to receive the explanation.",
                step3: "<strong>Start the analysis:</strong> Click the \"Analyze Images\" button to start the process.",
                step4: "<strong>Read the results:</strong> Receive a detailed and simplified analysis of your report.",
                selectLanguageTitle: "Select your language",
                donationTitle: "Support the Project",
                donationText: "If you find this tool useful, please consider making a small donation. Your contribution helps cover maintenance and development costs.",
                donationButton: "Make a donation",
                uploadArea: "Drag images here or click to select",
                languageSelectLabel: "Select the output language:",
                analyzeButton: "Analyze Images",
                loaderText: "Analysis in progress...",
                resetButton: "Analyze New Reports",
                disclaimerTitle: "Important Disclaimer",
                disclaimerText: "This application provides an explanation generated by artificial intelligence and does not in any way replace the advice of a doctor. The information should not be used for self-diagnosis or self-medication. Always consult your doctor for any health-related questions.",
                footer: "&copy; 2025 Nicola Nicolaci. All rights reserved.",
                resultTitle: "Results for: ${fileName}",
                errorTitle: "Error analyzing: ${fileName}",
                errorDetails: "A problem occurred during the analysis. Details: ${errorMessage}"
            },
            'spagnolo': {
                mainTitle: "Traductor Multiling√ºe de Informes M√©dicos",
                subtitle: "Sube una o m√°s fotos de tus informes o recetas para una explicaci√≥n sencilla.",
                howItWorksTitle: "C√≥mo Funciona",
                step1: "<strong>Sube tus archivos:</strong> Arrastra o selecciona las im√°genes de tus informes.",
                step2: "<strong>Elige el idioma:</strong> Haz clic en un idioma o selecci√≥nalo del men√∫ para recibir la explicaci√≥n.",
                step3: "<strong>Inicia el an√°lisis:</strong> Haz clic en el bot√≥n \"Analizar Im√°genes\" para iniciar il processo.",
                step4: "<strong>Lee los resultados:</strong> Recibe un an√°lisis detallado y simplificado de tu informe.",
                selectLanguageTitle: "Selecciona tu idioma",
                donationTitle: "Apoya el Proyecto",
                donationText: "Si encuentras √∫til esta herramienta, considera hacer una peque√±a donaci√≥n. Tu contribuci√≥n ayuda a cubrir los costos de mantenimiento y desarrollo.",
                donationButton: "Hacer una donaci√≥n",
                uploadArea: "Arrastra im√°genes aqu√≠ o haz clic para seleccionar",
                languageSelectLabel: "Selecciona el idioma de salida:",
                analyzeButton: "Analizar Im√°genes",
                loaderText: "An√°lisis en curso...",
                resetButton: "Analizar Nuevos Informes",
                disclaimerTitle: "Descargo de Responsabilidad Importante",
                disclaimerText: "Esta aplicaci√≥n proporciona una explicaci√≥n generada por inteligencia artificial y no reemplaza de ninguna manera el consejo de un m√©dico. La informaci√≥n no debe usarse para autodiagn√≥stico o automedicaci√≥n. Consulta siempre a tu m√©dico para cualquier pregunta relacionada con tu salud.",
                footer: "&copy; 2025 Nicola Nicolaci. Todos los derechos reservados.",
                resultTitle: "Resultados para: ${fileName}",
                errorTitle: "Error al analizar: ${fileName}",
                errorDetails: "Ocurri√≥ un problema durante el an√°lisis. Detalles: ${errorMessage}"
            },
            'francese': {
                mainTitle: "Traducteur Multilingue de Rapports M√©dicaux",
                subtitle: "T√©l√©chargez une ou plusieurs photos de vos rapports ou ordonnances pour une explication simple.",
                howItWorksTitle: "Comment √ßa marche",
                step1: "<strong>T√©l√©chargez vos fichiers:</strong> Faites glisser ou s√©lectionnez les images de vos rapports.",
                step2: "<strong>Choisissez la langue:</strong> Cliquez sur une langue ou s√©lectionnez-la dans le menu pour recevoir l'explication.",
                step3: "<strong>Lancez l'analyse:</strong> Cliquez sur le bouton \"Analyser les Images\" pour d√©marrer le processus.",
                step4: "<strong>Lisez les r√©sultats:</strong> Recevez une analyse d√©taill√©e et simplifi√©e de votre rapport.",
                selectLanguageTitle: "S√©lectionnez votre langue",
                donationTitle: "Soutenir le Projet",
                donationText: "Si vous trouvez cet outil utile, veuillez envisager de faire un petit don. Votre contribution aide √† couvrir les frais de maintenance et de d√©veloppement.",
                donationButton: "Faire un don",
                uploadArea: "Faites glisser les images ici ou cliquez pour s√©lectionner",
                languageSelectLabel: "S√©lectionnez la langue de sortie:",
                analyzeButton: "Analyser les Images",
                loaderText: "Analyse en cours...",
                resetButton: "Analyser de Nouveaux Rapports",
                disclaimerTitle: "Avis de Non-responsabilit√© Important",
                disclaimerText: "Cette application fournit une explication g√©n√©r√©e par une intelligence artificielle et ne remplace en aucun cas l'avis d'un m√©decin. Les informations ne doivent pas √™tre utilis√©es pour l'autodiagnostic ou l'autom√©dication. Consultez toujours votre m√©decin pour toute question relative √† votre sant√©.",
                footer: "&copy; 2025 Nicola Nicolaci. Tous droits r√©serv√©s.",
                resultTitle: "R√©sultats pour : ${fileName}",
                errorTitle: "Erreur lors de l'analyse de : ${fileName}",
                errorDetails: "Un probl√®me est survenu lors de l'analyse. D√©tails : ${errorMessage}"
            },
            'tedesco': {
                mainTitle: "Mehrsprachiger √úbersetzer f√ºr medizinische Berichte",
                subtitle: "Laden Sie ein oder mehrere Fotos Ihrer Berichte oder Rezepte f√ºr eine einfache Erkl√§rung hoch.",
                howItWorksTitle: "Wie es funktioniert",
                step1: "<strong>Laden Sie Ihre Dateien hoch:</strong> Ziehen Sie die Bilder Ihrer Berichte oder w√§hlen Sie sie aus.",
                step2: "<strong>W√§hlen Sie die Sprache:</strong> Klicken Sie auf eine Sprache oder w√§hlen Sie sie aus dem Men√º aus, um die Erkl√§rung zu erhalten.",
                step3: "<strong>Starten Sie die Analyse:</strong> Klicken Sie auf die Schaltfl√§che \"Bilder analysieren\", um den Vorgang zu starten.",
                step4: "<strong>Lesen Sie die Ergebnisse:</strong> Erhalten Sie eine detaillierte und vereinfachte Analyse Ihres Berichts.",
                selectLanguageTitle: "W√§hle deine Sprache",
                donationTitle: "Unterst√ºtze das Projekt",
                donationText: "Wenn Sie dieses Tool n√ºtzlich finden, ziehen Sie bitte eine kleine Spende in Betracht. Ihr Beitrag hilft, die Wartungs- und Entwicklungskosten zu decken.",
                donationButton: "Spenden",
                uploadArea: "Bilder hierher ziehen oder zum Ausw√§hlen klicken",
                languageSelectLabel: "W√§hlen Sie die Ausgabesprache:",
                analyzeButton: "Bilder analysieren",
                loaderText: "Analyse l√§uft...",
                resetButton: "Neue Berichte analysieren",
                disclaimerTitle: "Wichtiger Haftungsausschluss",
                disclaimerText: "Diese Anwendung bietet eine von k√ºnstlicher Intelligenz generierte Erkl√§rung und ersetzt in keiner Weise den Rat eines Arztes. Die Informationen sollten nicht zur Selbstdiagnose oder Selbstmedikation verwendet werden. Konsultieren Sie bei gesundheitlichen Fragen immer Ihren Arzt.",
                footer: "&copy; 2025 Nicola Nicolaci. Alle Rechte vorbehalten.",
                resultTitle: "Ergebnisse f√ºr: ${fileName}",
                errorTitle: "Fehler bei der Analyse von: ${fileName}",
                errorDetails: "W√§hrend der Analyse ist ein Problem aufgetreten. Details: ${errorMessage}"
            },
            'portoghese': {
                mainTitle: "Tradutor Multil√≠ngue de Relat√≥rios M√©dicos",
                subtitle: "Carregue uma ou mais fotos de seus relat√≥rios ou receitas para uma explica√ß√£o simples.",
                howItWorksTitle: "Como Funciona",
                step1: "<strong>Carregue seus arquivos:</strong> Arraste ou selecione as imagens de seus relat√≥rios.",
                step2: "<strong>Escolha o idioma:</strong> Clique em um idioma ou selecione-o no menu para receber a explica√ß√£o.",
                step3: "<strong>Inicie a an√°lise:</strong> Clique no bot√£o \"Analisar Imagens\" para iniciar o processo.",
                step4: "<strong>Leia os resultados:</strong> Receba uma an√°lise detalhada e simplificada do seu relat√≥rio.",
                selectLanguageTitle: "Selecione seu idioma",
                donationTitle: "Apoie o Projeto",
                donationText: "Se voc√™ acha esta ferramenta √∫til, considere fazer uma pequena doa√ß√£o. Sua contribui√ß√£o ajuda a cobrir os custos de manuten√ß√£o e desenvolvimento.",
                donationButton: "Fazer uma doa√ß√£o",
                uploadArea: "Arraste as imagens para c√° ou clique para selecionar",
                languageSelectLabel: "Selecione o idioma de sa√≠da:",
                analyzeButton: "Analisar Imagens",
                loaderText: "An√°lise em andamento...",
                resetButton: "Analisar Novos Relat√≥rios",
                disclaimerTitle: "Aviso Importante",
                disclaimerText: "Este aplicativo fornece uma explica√ß√£o gerada por intelig√™ncia artificial e n√£o substitui de forma alguma o conselho de um m√©dico. As informa√ß√µes n√£o devem ser usadas para autodiagn√≥stico ou automedica√ß√£o. Sempre consulte seu m√©dico para qualquer quest√£o relacionada √† sua sa√∫de.",
                footer: "&copy; 2025 Nicola Nicolaci. Todos os direitos reservados.",
                resultTitle: "Resultados para: ${fileName}",
                errorTitle: "Erro ao analisar: ${fileName}",
                errorDetails: "Ocorreu um problema durante a an√°lise. Detalhes: ${errorMessage}"
            },
            'rumeno': {
                mainTitle: "TraducƒÉtor Multilingv de Rapoarte Medicale",
                subtitle: "√éncƒÉrca»õi una sau mai multe fotografii ale rapoartelor sau re»õetelor dvs. pentru o explica»õie simplƒÉ.",
                howItWorksTitle: "Cum Func»õioneazƒÉ",
                step1: "<strong>√éncƒÉrca»õi fi»ôierele:</strong> Trage»õi sau selecta»õi imaginile rapoartelor dvs.",
                step2: "<strong>Alege»õi limba:</strong> Face»õi clic pe o limbƒÉ sau selecta»õi-o din meniu pentru a primi explica»õia.",
                step3: "<strong>√éncepe»õi analiza:</strong> Face»õi clic pe butonul \"Analiza»õi Imaginile\" pentru a √Æncepe procesul.",
                step4: "<strong>Citi»õi rezultatele:</strong> Primi»õi o analizƒÉ detaliatƒÉ »ôi simplificatƒÉ a raportului dvs.",
                selectLanguageTitle: "Selecta»õi limba dvs.",
                donationTitle: "Sus»õine»õi Proiectul",
                donationText: "DacƒÉ gƒÉsi»õi acest instrument util, vƒÉ rugƒÉm sƒÉ lua»õi √Æn considerare o micƒÉ dona»õie. Contribu»õia dvs. ajutƒÉ la acoperirea costurilor de √Æntre»õinere »ôi dezvoltare.",
                donationButton: "Face»õi o dona»õie",
                uploadArea: "Trage»õi imaginile aici sau face»õi clic pentru a selecta",
                languageSelectLabel: "Selecta»õi limba de ie»ôire:",
                analyzeButton: "Analiza»õi Imaginile",
                loaderText: "AnalizƒÉ √Æn curs...",
                resetButton: "Analiza»õi Rapoarte Noi",
                disclaimerTitle: "Declinare de Responsabilitate ImportantƒÉ",
                disclaimerText: "AceastƒÉ aplica»õie oferƒÉ o explica»õie generatƒÉ de inteligen»õa artificialƒÉ »ôi nu √Ænlocuie»ôte √Æn niciun fel sfatul unui medic. Informa»õiile nu trebuie utilizate pentru autodiagnosticare sau automedica»õie. Consulta»õi √Æntotdeauna medicul pentru orice problemƒÉ legatƒÉ de sƒÉnƒÉtate.",
                footer: "&copy; 2025 Nicola Nicolaci. Toate drepturile rezervate.",
                resultTitle: "Rezultate pentru: ${fileName}",
                errorTitle: "Eroare la analizarea: ${fileName}",
                errorDetails: "A apƒÉrut o problemƒÉ √Æn timpul analizei. Detalii: ${errorMessage}"
            },
            'russo': {
                mainTitle: "–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –û—Ç—á–µ—Ç–æ–≤",
                subtitle: "–ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤–∞—à–∏—Ö –æ—Ç—á–µ—Ç–æ–≤ –∏–ª–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è.",
                howItWorksTitle: "–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç",
                step1: "<strong>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã:</strong> –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞—à–∏—Ö –æ—Ç—á–µ—Ç–æ–≤.",
                step2: "<strong>–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:</strong> –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —è–∑—ã–∫ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –µ–≥–æ –≤ –º–µ–Ω—é, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ.",
                step3: "<strong>–ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑:</strong> –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É \"–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\", —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å.",
                step4: "<strong>–ü—Ä–æ—á—Ç–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:</strong> –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π –∏ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞—à–µ–≥–æ –æ—Ç—á–µ—Ç–∞.",
                selectLanguageTitle: "–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —è–∑—ã–∫",
                donationTitle: "–ü–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç",
                donationText: "–ï—Å–ª–∏ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–ª–µ–∑–Ω—ã–º, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–µ–±–æ–ª—å—à–æ–≥–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è. –í–∞—à –≤–∫–ª–∞–¥ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–∫—Ä—ã—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.",
                donationButton: "–°–¥–µ–ª–∞—Ç—å –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ",
                uploadArea: "–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞",
                languageSelectLabel: "–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –≤—ã–≤–æ–¥–∞:",
                analyzeButton: "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è",
                loaderText: "–ò–¥–µ—Ç –∞–Ω–∞–ª–∏–∑...",
                resetButton: "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã",
                disclaimerTitle: "–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ",
                disclaimerText: "–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º, –∏ –Ω–∏–∫–æ–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –≤—Ä–∞—á–∞. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–∞–º–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏–ª–∏ —Å–∞–º–æ–ª–µ—á–µ–Ω–∏—è. –í—Å–µ–≥–¥–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –≤—Ä–∞—á–æ–º –ø–æ –ª—é–±—ã–º –≤–æ–ø—Ä–æ—Å–∞–º, —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å–æ –∑–¥–æ—Ä–æ–≤—å–µ–º.",
                footer: "&copy; 2025 –ù–∏–∫–æ–ª–∞ –ù–∏–∫–æ–ª–∞—á–∏. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.",
                resultTitle: "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è: ${fileName}",
                errorTitle: "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ: ${fileName}",
                errorDetails: "–í–æ –≤—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞. –î–µ—Ç–∞–ª–∏: ${errorMessage}"
            },
            'albanese': {
                mainTitle: "P√´rkthyes Shum√´gjuh√´sh i Raporteve Mjek√´sore",
                subtitle: "Ngarkoni nj√´ ose m√´ shum√´ foto t√´ raporteve ose recetave tuaja p√´r nj√´ shpjegim t√´ thjesht√´.",
                howItWorksTitle: "Si funksionon",
                step1: "<strong>Ngarkoni skedar√´t tuaj:</strong> Zvarritni ose zgjidhni imazhet e raporteve tuaja.",
                step2: "<strong>Zgjidhni gjuh√´n:</strong> Klikoni n√´ nj√´ gjuh√´ ose zgjidheni nga menuja p√´r t√´ marr√´ shpjegimin.",
                step3: "<strong>Filloni analiz√´n:</strong> Klikoni butonin \"Analizo Imazhet\" p√´r t√´ filluar procesin.",
                step4: "<strong>Lexoni rezultatet:</strong> Merrni nj√´ analiz√´ t√´ detajuar dhe t√´ thjeshtuar t√´ raportit tuaj.",
                selectLanguageTitle: "Zgjidhni gjuh√´n tuaj",
                donationTitle: "Mb√´shtetni Projektin",
                donationText: "N√´se e gjeni k√´t√´ mjet t√´ dobish√´m, ju lutemi konsideroni t√´ b√´ni nj√´ donacion t√´ vog√´l. Kontributi juaj ndihmon n√´ mbulimin e kostove t√´ mir√´mbajtjes dhe zhvillimit.",
                donationButton: "B√´ni nj√´ donacion",
                uploadArea: "Zvarritni imazhet k√´tu ose klikoni p√´r t√´ zgjedhur",
                languageSelectLabel: "Zgjidhni gjuh√´n e daljes:",
                analyzeButton: "Analizo Imazhet",
                loaderText: "Analiza n√´ proces...",
                resetButton: "Analizo Raporte t√´ Reja",
                disclaimerTitle: "Mohim i R√´nd√´sish√´m",
                disclaimerText: "Ky aplikacion ofron nj√´ shpjegim t√´ gjeneruar nga inteligjenca artificiale dhe nuk z√´vend√´son n√´ asnj√´ m√´nyr√´ k√´shill√´n e nj√´ mjeku. Informacioni nuk duhet t√´ p√´rdoret p√´r vet√´-diagnoz√´ ose vet√´-mjekim. Gjithmon√´ konsultohuni me mjekun tuaj p√´r √ßdo √ß√´shtje q√´ lidhet me sh√´ndetin.",
                footer: "&copy; 2025 Nicola Nicolaci. T√´ gjitha t√´ drejtat e rezervuara.",
                resultTitle: "Rezultatet p√´r: ${fileName}",
                errorTitle: "Gabim gjat√´ analizimit: ${fileName}",
                errorDetails: "Ndodhi nj√´ problem gjat√´ analiz√´s. Detajet: ${errorMessage}"
            },
            'arabo': {
                mainTitle: "ŸÖÿ™ÿ±ÿ¨ŸÖ ÿ™ŸÇÿßÿ±Ÿäÿ± ÿ∑ÿ®Ÿäÿ© ŸÖÿ™ÿπÿØÿØ ÿßŸÑŸÑÿ∫ÿßÿ™",
                subtitle: "ŸÇŸÖ ÿ®ÿ™ÿ≠ŸÖŸäŸÑ ÿµŸàÿ±ÿ© ÿ£Ÿà ÿ£ŸÉÿ´ÿ± ŸÖŸÜ ÿ™ŸÇÿßÿ±Ÿäÿ±ŸÉ ÿ£Ÿà ŸàÿµŸÅÿßÿ™ŸÉ ÿßŸÑÿ∑ÿ®Ÿäÿ© ŸÑŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ¥ÿ±ÿ≠ ÿ®ÿ≥Ÿäÿ∑.",
                howItWorksTitle: "ŸÉŸäŸÅ ŸäÿπŸÖŸÑ",
                step1: "<strong>ÿ™ÿ≠ŸÖŸäŸÑ ŸÖŸÑŸÅÿßÿ™ŸÉ:</strong> ÿßÿ≥ÿ≠ÿ® ÿ£Ÿà ÿ≠ÿØÿØ ÿµŸàÿ± ÿ™ŸÇÿßÿ±Ÿäÿ±ŸÉ.",
                step2: "<strong>ÿßÿÆÿ™ÿ± ÿßŸÑŸÑÿ∫ÿ©:</strong> ÿßŸÜŸÇÿ± ÿπŸÑŸâ ŸÑÿ∫ÿ© ÿ£Ÿà ÿ≠ÿØÿØŸáÿß ŸÖŸÜ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ŸÑÿ™ŸÑŸÇŸä ÿßŸÑÿ¥ÿ±ÿ≠.",
                step3: "<strong>ÿ®ÿØÿ° ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ:</strong> ÿßŸÜŸÇÿ± ÿπŸÑŸâ ÿ≤ÿ± \"ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿµŸàÿ±\" ŸÑÿ®ÿØÿ° ÿßŸÑÿπŸÖŸÑŸäÿ©.",
                step4: "<strong>ÿßŸÇÿ±ÿ£ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨:</strong> ÿßÿ≠ÿµŸÑ ÿπŸÑŸâ ÿ™ÿ≠ŸÑŸäŸÑ ŸÖŸÅÿµŸÑ ŸàŸÖÿ®ÿ≥ÿ∑ ŸÑÿ™ŸÇÿ±Ÿäÿ±ŸÉ.",
                selectLanguageTitle: "ÿßÿÆÿ™ÿ± ŸÑÿ∫ÿ™ŸÉ",
                donationTitle: "ÿßÿØÿπŸÖ ÿßŸÑŸÖÿ¥ÿ±Ÿàÿπ",
                donationText: "ÿ•ÿ∞ÿß Ÿàÿ¨ÿØÿ™ Ÿáÿ∞Ÿá ÿßŸÑÿ£ÿØÿßÿ© ŸÖŸÅŸäÿØÿ©ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ŸÅŸÉŸäÿ± ŸÅŸä ÿ™ŸÇÿØŸäŸÖ ÿ™ÿ®ÿ±ÿπ ÿµÿ∫Ÿäÿ±. ÿ™ÿ≥ÿßŸáŸÖ ŸÖÿ≥ÿßŸáŸÖÿ™ŸÉ ŸÅŸä ÿ™ÿ∫ÿ∑Ÿäÿ© ÿ™ŸÉÿßŸÑŸäŸÅ ÿßŸÑÿµŸäÿßŸÜÿ© ŸàÿßŸÑÿ™ÿ∑ŸàŸäÿ±.",
                donationButton: "ÿ™ÿ®ÿ±ÿπ ÿßŸÑÿ¢ŸÜ",
                uploadArea: "ÿßÿ≥ÿ≠ÿ® ÿßŸÑÿµŸàÿ± ŸáŸÜÿß ÿ£Ÿà ÿßŸÜŸÇÿ± ŸÑŸÑÿ™ÿ≠ÿØŸäÿØ",
                languageSelectLabel: "ÿ≠ÿØÿØ ŸÑÿ∫ÿ© ÿßŸÑÿ•ÿÆÿ±ÿßÿ¨:",
                analyzeButton: "ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿµŸàÿ±",
                loaderText: "ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿ¨ÿßÿ±...",
                resetButton: "ÿ™ÿ≠ŸÑŸäŸÑ ÿ™ŸÇÿßÿ±Ÿäÿ± ÿ¨ÿØŸäÿØÿ©",
                disclaimerTitle: "ÿ•ÿÆŸÑÿßÿ° ŸÖÿ≥ÿ§ŸàŸÑŸäÿ© ŸáÿßŸÖ",
                disclaimerText: "ŸäŸàŸÅÿ± Ÿáÿ∞ÿß ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ÿ¥ÿ±ÿ≠Ÿãÿß ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ§Ÿá ÿ®Ÿàÿßÿ≥ÿ∑ÿ© ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ŸàŸÑÿß Ÿäÿ≠ŸÑ ÿ®ÿ£Ÿä ÿ≠ÿßŸÑ ŸÖŸÜ ÿßŸÑÿ£ÿ≠ŸàÿßŸÑ ŸÖÿ≠ŸÑ ŸÜÿµŸäÿ≠ÿ© ÿßŸÑÿ∑ÿ®Ÿäÿ®. ŸÑÿß ŸäŸÜÿ®ÿ∫Ÿä ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ŸÑŸÑÿ™ÿ¥ÿÆŸäÿµ ÿßŸÑÿ∞ÿßÿ™Ÿä ÿ£Ÿà ÿßŸÑÿπŸÑÿßÿ¨ ÿßŸÑÿ∞ÿßÿ™Ÿä. ÿßÿ≥ÿ™ÿ¥ÿ± ÿ∑ÿ®Ÿäÿ®ŸÉ ÿØÿßÿ¶ŸÖŸãÿß ÿ®ÿ¥ÿ£ŸÜ ÿ£Ÿä ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ™ÿ™ÿπŸÑŸÇ ÿ®ÿßŸÑÿµÿ≠ÿ©.",
                footer: "&copy; 2025 ŸÜŸÇŸàŸÑÿß ŸÜŸäŸÇŸàŸÑÿßÿ™ÿ¥Ÿä. ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ©.",
                resultTitle: "ŸÜÿ™ÿßÿ¶ÿ¨ ŸÑŸÄ: ${fileName}",
                errorTitle: "ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ: ${fileName}",
                errorDetails: "ÿ≠ÿØÿ´ÿ™ ŸÖÿ¥ŸÉŸÑÿ© ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ. ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ: ${errorMessage}"
            },
            'giapponese': {
                mainTitle: "Â§öË®ÄË™ûÂåªÁôÇ„É¨„Éù„Éº„ÉàÁøªË®≥",
                subtitle: "„É¨„Éù„Éº„Éà„ÇÑÂá¶ÊñπÁÆã„ÅÆÂÜôÁúü„Çí1Êûö‰ª•‰∏ä„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åó„Å¶„ÄÅÁ∞°Âçò„Å™Ë™¨Êòé„ÇíÂèó„Åë„Åæ„Åó„Çá„ÅÜ„ÄÇ",
                howItWorksTitle: "‰Ωø„ÅÑÊñπ",
                step1: "<strong>„Éï„Ç°„Ç§„É´„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ:</strong> „É¨„Éù„Éº„Éà„ÅÆÁîªÂÉè„Çí„Éâ„É©„ÉÉ„Ç∞„Åô„Çã„ÅãÈÅ∏Êäû„Åó„Åæ„Åô„ÄÇ",
                step2: "<strong>Ë®ÄË™û„ÇíÈÅ∏Êäû:</strong> Ë®ÄË™û„Çí„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Åã„É°„Éã„É•„Éº„Åã„ÇâÈÅ∏Êäû„Åó„Å¶„ÄÅË™¨Êòé„ÇíÂèó„ÅëÂèñ„Çä„Åæ„Åô„ÄÇ",
                step3: "<strong>ÂàÜÊûê„ÇíÈñãÂßã:</strong> „ÄåÁîªÂÉè„ÇíÂàÜÊûê„Äç„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Éó„É≠„Çª„Çπ„ÇíÈñãÂßã„Åó„Åæ„Åô„ÄÇ",
                step4: "<strong>ÁµêÊûú„ÇíË™≠„ÇÄ:</strong> „É¨„Éù„Éº„Éà„ÅÆË©≥Á¥∞„ÅßÁ∞°Âçò„Å™ÂàÜÊûê„ÇíÂèó„ÅëÂèñ„Çä„Åæ„Åô„ÄÇ",
                selectLanguageTitle: "Ë®ÄË™û„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ",
                donationTitle: "„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÊîØÊè¥",
                donationText: "„Åì„ÅÆ„ÉÑ„Éº„É´„ÅåÂΩπÁ´ã„Å§„Å®ÊÄù„Çè„Çå„ÅüÂ†¥Âêà„ÅØ„ÄÅÂ∞ëÈ°ç„ÅÆÂØÑ‰ªò„Çí„ÅîÊ§úË®é„Åè„Å†„Åï„ÅÑ„ÄÇÁöÜÊßò„ÅÆ„ÅîÊîØÊè¥„Åå„ÄÅÁ∂≠ÊåÅÁÆ°ÁêÜË≤ª„ÇÑÈñãÁô∫Ë≤ª„ÅÆÂä©„Åë„Å®„Å™„Çä„Åæ„Åô„ÄÇ",
                donationButton: "ÂØÑ‰ªò„Åô„Çã",
                uploadArea: "„Åì„Åì„Å´ÁîªÂÉè„Çí„Éâ„É©„ÉÉ„Ç∞„Åô„Çã„Åã„ÄÅ„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÈÅ∏Êäû",
                languageSelectLabel: "Âá∫ÂäõË®ÄË™û„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö",
                analyzeButton: "ÁîªÂÉè„ÇíÂàÜÊûê",
                loaderText: "ÂàÜÊûê‰∏≠...",
                resetButton: "Êñ∞„Åó„ÅÑ„É¨„Éù„Éº„Éà„ÇíÂàÜÊûê",
                disclaimerTitle: "ÈáçË¶Å‰∫ãÈ†Ö",
                disclaimerText: "„Åì„ÅÆ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØ„ÄÅ‰∫∫Â∑•Áü•ËÉΩ„Å´„Çà„Å£„Å¶ÁîüÊàê„Åï„Çå„ÅüË™¨Êòé„ÇíÊèê‰æõ„Åô„Çã„ÇÇ„ÅÆ„Åß„ÅÇ„Çä„ÄÅ„ÅÑ„Åã„Å™„ÇãÂΩ¢„Åß„ÇÇÂåªÂ∏´„ÅÆÂä©Ë®Ä„Å´‰ª£„Çè„Çã„ÇÇ„ÅÆ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÊÉÖÂ†±„ÅØ„ÄÅËá™Â∑±Ë®∫Êñ≠„ÇÑËá™Â∑±Ê≤ªÁôÇ„Å´‰ΩøÁî®„Åó„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„ÄÇÂÅ•Â∫∑„Å´Èñ¢„Åô„ÇãË≥™Âïè„Å´„Å§„ÅÑ„Å¶„ÅØ„ÄÅÂøÖ„ÅöÂåªÂ∏´„Å´Áõ∏Ë´á„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
                footer: "&copy; 2025 „Éã„Ç≥„É©„Éª„Éã„Ç≥„É©„ÉÅ. ÂÖ®Ëëó‰ΩúÊ®©ÊâÄÊúâ.",
                resultTitle: "ÁµêÊûúÔºö${fileName}",
                errorTitle: "ÂàÜÊûê„Ç®„É©„ÉºÔºö${fileName}",
                errorDetails: "ÂàÜÊûê‰∏≠„Å´ÂïèÈ°å„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇË©≥Á¥∞Ôºö${errorMessage}"
            },
            'cinese': {
                mainTitle: "Â§öËØ≠Ë®ÄÂåªÁñóÊä•ÂëäÁøªËØëÂô®",
                subtitle: "‰∏ä‰º†‰∏Ä‰ªΩÊàñÂ§ö‰ªΩÊÇ®ÁöÑÊä•ÂëäÊàñÂ§ÑÊñπÁöÑÁÖßÁâáÔºå‰ª•Ëé∑ÂæóÁÆÄÂçïÁöÑËß£Èáä„ÄÇ",
                howItWorksTitle: "Â¶Ç‰ΩïÊìç‰Ωú",
                step1: "<strong>‰∏ä‰º†Êñá‰ª∂:</strong> ÊãñÂä®ÊàñÈÄâÊã©ÊÇ®ÁöÑÊä•ÂëäÂõæÂÉè„ÄÇ",
                step2: "<strong>ÈÄâÊã©ËØ≠Ë®Ä:</strong> ÂçïÂáª‰∏ÄÁßçËØ≠Ë®ÄÊàñ‰ªéËèúÂçï‰∏≠ÈÄâÊã©‰ª•Êé•Êî∂Ëß£Èáä„ÄÇ",
                step3: "<strong>ÂºÄÂßãÂàÜÊûê:</strong> ÂçïÂáª‚ÄúÂàÜÊûêÂõæÂÉè‚ÄùÊåâÈíÆÂºÄÂßãËØ•ËøáÁ®ã„ÄÇ",
                step4: "<strong>ÈòÖËØªÁªìÊûú:</strong> Êé•Êî∂ÊÇ®Êä•ÂëäÁöÑËØ¶ÁªÜÂíåÁÆÄÂåñÂàÜÊûê„ÄÇ",
                selectLanguageTitle: "ÈÄâÊã©‰Ω†ÁöÑËØ≠Ë®Ä",
                donationTitle: "ÊîØÊåÅÈ°πÁõÆ",
                donationText: "Â¶ÇÊûúÊÇ®ËßâÂæóËøô‰∏™Â∑•ÂÖ∑ÊúâÁî®ÔºåËØ∑ËÄÉËôëËøõË°åÂ∞èÈ¢ùÊçêËµ†„ÄÇÊÇ®ÁöÑË¥°ÁåÆÊúâÂä©‰∫éÊîØ‰ªòÁª¥Êä§ÂíåÂºÄÂèëÊàêÊú¨„ÄÇ",
                donationButton: "ËøõË°åÊçêËµ†",
                uploadArea: "Â∞ÜÂõæÂÉèÊãñÂà∞Ê≠§Â§ÑÊàñÂçïÂáª‰ª•ÈÄâÊã©",
                languageSelectLabel: "ÈÄâÊã©ËæìÂá∫ËØ≠Ë®ÄÔºö",
                analyzeButton: "ÂàÜÊûêÂõæÂÉè",
                loaderText: "ÂàÜÊûê‰∏≠...",
                resetButton: "ÂàÜÊûêÊñ∞Êä•Âëä",
                disclaimerTitle: "ÈáçË¶ÅÂÖçË¥£Â£∞Êòé",
                disclaimerText: "Êú¨Â∫îÁî®Á®ãÂ∫èÊèê‰æõÁî±‰∫∫Â∑•Êô∫ËÉΩÁîüÊàêÁöÑËß£ÈáäÔºå‰∏çËÉΩ‰ª•‰ªª‰ΩïÊñπÂºèÊõø‰ª£ÂåªÁîüÁöÑÂª∫ËÆÆ„ÄÇËØ•‰ø°ÊÅØ‰∏çÂ∫îÁî®‰∫éËá™ÊàëËØäÊñ≠ÊàñËá™ÊàëÁî®ËçØ„ÄÇÊúâÂÖ≥‰ªª‰ΩïÂÅ•Â∫∑Áõ∏ÂÖ≥ÈóÆÈ¢òÔºåËØ∑Âä°Âä°ÂøÖÂí®ËØ¢ÊÇ®ÁöÑÂåªÁîü„ÄÇ",
                footer: "&copy; 2025 Â∞ºÂè§Êãâ¬∑Â∞ºÂè§ÊãâÂ•á. ÁâàÊùÉÊâÄÊúâ.",
                resultTitle: "ÁªìÊûúÔºö${fileName}",
                errorTitle: "ÂàÜÊûêÈîôËØØÔºö${fileName}",
                errorDetails: "ÂàÜÊûêÊúüÈó¥Âá∫Áé∞ÈóÆÈ¢ò„ÄÇËØ¶ÁªÜ‰ø°ÊÅØÔºö${errorMessage}"
            }
        };

        // --- TRANSLATION FUNCTION ---
        function translatePage(lang) {
            const langTranslations = translations[lang];
            if (!langTranslations) {
                console.warn(`No translations found for language: ${lang}`);
                // Fallback to Italian if the selected language is not found
                translatePage('italiano');
                return;
            }

            document.querySelectorAll('[data-translate-key]').forEach(el => {
                const key = el.dataset.translateKey;
                if (langTranslations[key]) {
                    el.innerHTML = langTranslations[key];
                }
            });
        }
        
        // --- FILE UPLOAD LOGIC ---
        uploadArea.addEventListener('click', () => fileInput.click());
        uploadArea.addEventListener('dragover', (event) => {
            event.preventDefault();
            uploadArea.classList.add('border-blue-500', 'bg-blue-50');
        });
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('border-blue-500', 'bg-blue-50');
        });
        uploadArea.addEventListener('drop', (event) => {
            event.preventDefault();
            uploadArea.classList.remove('border-blue-500', 'bg-blue-50');
            handleFiles(event.dataTransfer.files);
        });
        fileInput.addEventListener('change', (event) => {
            handleFiles(event.target.files);
        });

        // --- LANGUAGE SELECTION LOGIC ---
        function updateLanguageSelection(selectedLang) {
            // Update the dropdown
            languageSelect.value = selectedLang;

            // Update the visual style of the chips
            const chips = languageChipsContainer.querySelectorAll('.lang-chip');
            chips.forEach(chip => {
                if (chip.dataset.lang === selectedLang) {
                    chip.classList.remove('bg-gray-100', 'text-gray-800');
                    chip.classList.add('bg-blue-100', 'text-blue-800');
                } else {
                    chip.classList.remove('bg-blue-100', 'text-blue-800');
                    chip.classList.add('bg-gray-100', 'text-gray-800');
                }
            });

            // Translate the page content
            translatePage(selectedLang);
        }

        languageChipsContainer.addEventListener('click', (event) => {
            const clickedChip = event.target.closest('.lang-chip');
            if (clickedChip) {
                const lang = clickedChip.dataset.lang;
                updateLanguageSelection(lang);
            }
        });

        languageSelect.addEventListener('change', (event) => {
            updateLanguageSelection(event.target.value);
        });


        // --- ANALYSIS LOGIC ---
        analyzeButton.addEventListener('click', async () => {
            if (selectedFiles.length === 0) return;

            // Visually indicate processing and disable further uploads
            uploadArea.classList.add('disabled');
            fileListContainer.classList.add('hidden');
            controlsContainer.classList.add('hidden');

            loader.style.display = 'flex';
            resultContent.innerHTML = '';
            errorMessage.classList.add('hidden');
            errorMessage.textContent = '';
            
            const selectedLanguage = languageSelect.value;
            loaderText.textContent = translations[selectedLanguage]?.loaderText || "Analysis in progress...";

            for (let i = 0; i < selectedFiles.length; i++) {
                const file = selectedFiles[i];
                const loaderStatusText = translations[selectedLanguage]?.loaderText || "Analysis in progress...";
                loaderText.textContent = `${loaderStatusText.replace('...','')} ${file.name} (${i + 1} of ${selectedFiles.length})...`;
                try {
                    // Call the analysis function for each file
                    const analysisResult = await analyzeSingleFile(file, selectedLanguage);
                    const resultCard = document.createElement('div');
                    resultCard.className = 'result-card';
                    // Populate the card with the file name and the parsed HTML result
                    const resultTitle = translations[selectedLanguage]?.resultTitle || `Risultati per: \${fileName}`;
                    resultCard.innerHTML = `<h2>${resultTitle.replace('${fileName}', file.name)}</h2>` + analysisResult;
                    resultContent.appendChild(resultCard);
                } catch (error) {
                    // If an error occurs, display an error card
                    const errorCard = document.createElement('div');
                    errorCard.className = 'result-card';
                    const errorTitle = translations[selectedLanguage]?.errorTitle || `Errore nell'analisi di: \${fileName}`;
                    const errorDetails = translations[selectedLanguage]?.errorDetails || `Si √® verificato un problema durante l'analisi. Dettagli: \${errorMessage}`;
                    errorCard.innerHTML = `
                        <h2>${errorTitle.replace('${fileName}', file.name)}</h2>
                        <p class="text-red-600">${errorDetails.replace('${errorMessage}', error.message)}</p>
                    `;
                    resultContent.appendChild(errorCard);
                }
            }
            
            loader.style.display = 'none';
            resetContainer.classList.remove('hidden'); // Show the reset button
        });

        // --- RESET LOGIC ---
        resetButton.addEventListener('click', () => {
            selectedFiles = [];
            resultContent.innerHTML = '';
            errorMessage.classList.add('hidden');
            errorMessage.textContent = '';
            fileListContainer.innerHTML = '';
            controlsContainer.classList.add('hidden');
            resetContainer.classList.add('hidden');
            fileInput.value = null; // Allow selecting the same file again
            uploadArea.classList.remove('disabled'); // Re-enable upload area
            fileListContainer.classList.remove('hidden'); // Show file list area again
            updateLanguageSelection('italiano'); // Reset to default language
        });

        function handleFiles(files) {
            Array.from(files).forEach(file => {
                // Prevent duplicate files from being added
                if (!selectedFiles.some(f => f.name === file.name && f.size === file.size)) {
                    selectedFiles.push(file);
                }
            });
            renderFileList();
        }

        function renderFileList() {
            fileListContainer.innerHTML = '';
            if (selectedFiles.length > 0) {
                const list = document.createElement('ul');
                list.className = 'space-y-2';
                selectedFiles.forEach((file, index) => {
                    const listItem = document.createElement('li');
                    listItem.className = 'flex items-center justify-between bg-gray-100 p-2 rounded-md';
                    listItem.innerHTML = `
                        <span class="text-gray-700 text-sm font-medium truncate mr-2">${file.name}</span>
                        <button data-index="${index}" class="remove-file-btn ml-2 p-1 text-gray-500 hover:text-red-600 focus:outline-none">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                    `;
                    list.appendChild(listItem);
                });
                fileListContainer.appendChild(list);
                controlsContainer.classList.remove('hidden');
            } else {
                controlsContainer.classList.add('hidden');
            }
        }
        
        fileListContainer.addEventListener('click', function(event) {
            const removeButton = event.target.closest('.remove-file-btn');
            if (removeButton) {
                const indexToRemove = parseInt(removeButton.dataset.index, 10);
                selectedFiles.splice(indexToRemove, 1);
                renderFileList();
            }
        });

        // --- UPDATED API LOGIC FOR NETLIFY ---
        async function analyzeSingleFile(imageFile, language) {
            const base64ImageData = await toBase64(imageFile);

            // L'URL della nostra Netlify Function.
            const functionUrl = '/.netlify/functions/analyze';

            try {
                const response = await fetch(functionUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        imageData: base64ImageData,
                        imageType: imageFile.type,
                        language: language
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || `La richiesta al server √® fallita con stato ${response.status}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    return marked.parse(text);
                } else {
                    if (result.promptFeedback) {
                        console.error("Prompt Feedback:", result.promptFeedback);
                        throw new Error("L'analisi √® stata bloccata a causa di restrizioni di sicurezza.");
                    }
                    throw new Error("La risposta dell'API non √® valida o √® vuota.");
                }

            } catch (error) {
                console.error("Errore durante la chiamata alla Netlify Function:", error);
                throw error; // Rilancia l'errore per mostrarlo nell'interfaccia utente.
            }
        }

        // Helper function to convert a file to a Base64 string
        function toBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result.split(',')[1]);
                reader.onerror = error => reject(error);
            });
        }

        // Initial translation on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateLanguageSelection('italiano');
        });
    </script>
</body>
</html>
